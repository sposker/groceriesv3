#:import TwoLineIconListItem kivymd.uix.list
#:import GroupScrollBar widget_sections.selection
#:import MDIconButton kivymd.uix.button
#:import MDTextField kivymd.uix.button

<FloatingButton>
    size_hint: None, None
    size: dp(46), dp(46)
    elevation: 5
    md_bg_color: app.theme_cls.primary_color
    text_color: 1, 1, 1, 1



<ItemCard>
    id: card
    orientation: "vertical"
    size_hint: 1, None
    height: self.minimum_height
    pos_hint: {"center_x": .5, "center_y": .5}

    BoxLayout:
        name: 'primary'
        id: box
        size_hint: 1, None
        height: dp(72)

        Widget:
            size_hint: .05, 1
            disabled: True

        MDLabel:
            name: 'item_title'
            text: root.item_name
            pos_hint: {'x': .05, 'center_y': .5}
            size_hint: .7, 1
            theme_text_color: 'Custom'
            text_color: app.text_color
            halign: 'left'
            font_size: 22


        DefaultsButton:
            root: card
            name: 'amount'
            pos: chev.pos[0] - self. width, box.pos[1]
            size_hint: None, None
            theme_text_color: 'Custom'
            text_color: app.text_color
            text: card.defaults_list[-1]
            font_size: 24
            size: dp(72), dp(72)
            on_release:
                root.defaults_dropdown.open(self)


        MDIconButton:
            id: chev
            name: 'chevron'
            icon: "chevron-down"
            pos_hint: {'right': 1, 'center_y': .5}
            size_hint: None, 1
            height: self.size[1]
            on_release:
                root.move()

        Widget:
            size_hint: .05, 1
            disabled: True


    BoxLayout:
        name: 'expansion'
        size_hint: 1, None
        height: root._expansion_height

        MDTextField:
            name: 'note_input'
            pos_hint: {'center_x': .5, 'center_y': .5}

        MDIconButton:
            name: 'history'
            icon: "history"
            pos_hint: {'center_x': .5, 'center_y': .5}

        MDIconButton:
            name: 'delete_card'
            icon: "delete"
            pos_hint: {'center_x': .5, 'center_y': .5}





<ListScrollHelper>

#    size_hint: (.95, 1)
#    canvas:
#        Color:
#            rgba: app.elem_color
#        RoundedRectangle:
#            size: self.size
#            pos: self.pos
#            radius: [(self.height/12)]

    ListScrollBar:

        size_hint: .95, 1
        color: app.elem_color
        do_scroll_x: False
        do_scroll_y: True
        scroll_type: ['bars']
        smooth_scroll_end: 10
        smooth_scroll_end: 10

        ItemCardContainer:
            spacing: dp(2)
            orientation: 'vertical'
            size_hint: None, None
            height: 0
            width: self.parent.width
            minimum_height: self.parent.height